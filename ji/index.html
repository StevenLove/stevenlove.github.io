<html>
    <!-- external scripts -->
    <!-- <script src="./node_modules/mathjs/dist/math.js"></script> -->
    <!-- <script src="http://d3js.org/d3.v3.js"></script> -->
    <script src="./js/d3.min.js"></script>

    <!-- jquery -->
    <!-- <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous"></script> -->
    <script src="./js/jquery.min.js"></script>
    <!-- bootstrap js and css -->
    <script src="./js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="./css/bootstrap.css">
    <link rel="stylesheet" href="./css/controls.css">
    
    
    <!-- internal scripts -->
    <!-- <script src="./constants.js"></script> -->
    <!-- <script src="./ear.js"></script> -->
    <!-- <script src="converter.js"></script> -->
    <!-- <script src="scorer.js"></script> -->
    <!-- <script src="otherInterpretationsOfNotes.js"></script> -->
    <!-- <script src="timbreControls.js"></script> -->
    <script src="spectrum.js"></script>
    <script src="d3plotter.js"></script>
    <script src="waveTables.js"></script>
    <!-- <script src="./audioplayer.js"></script> -->
    <script src="bundle.js"></script>
 
    <link rel="stylesheet" href="./style.css">



    <body style="margin:10px">
        <h1> Customizable Synthesizer </h1>
        <h3> Purpose</h3>
        <p>
            This synthesizer allows you to play in alternate keys and tunings just as easily as playing in C major! <br>
            <br>
            Try some experiments like: <br>
            - Play with a flattened 3rd to see if it truly sounds more consonant<br>
            - Play in pythagorean tuning <br>
            - Play in the Locrian mode to see if you can hear the root <br>
            - Learn to play a simple melody in a major key and then easily transpose it to minor by hitting N twice <br>
            - Simulate a chime by lowering the amplitudes of harmonic series #2 through #7 and raising #8. <br>
            - Find the key of a song on the radio by playing along and switching roots/modes until you find a match. <br>

        </p>
        <h3> Controls </h3>
        <p> 
            Play Notes: <kbd>CapsLock</kbd>, <kbd>A</kbd>, <kbd>S</kbd>, <kbd>D</kbd>, <kbd>F</kbd>, <kbd>G</kbd>, <kbd>H</kbd>, <kbd>J</kbd>, <kbd>K</kbd>, <kbd>L</kbd>, <kbd>;</kbd>, <kbd>'</kbd>, and <kbd>Enter</kbd>
        <br>Next Root: <kbd>B</kbd>
        <br>Prev Root: <kbd>V</kbd>
        <br>Next Mode: <kbd>M</kbd>
        <br>Prev Mode: <kbd>N</kbd>
        <br>Intervals are measured in cents and should be separated by whitespace. 
        <br> Note:
        <br>100 cents is the difference between B and C, or A and A#. 200 cents is the difference between A and B. 1200 cents is a whole octave.
        <br>When you see text like <code>d4(-2)</code> it refers to the note d4 played 2 cents flat.
        </p>
        <br>
        <label>Root:&nbsp;</label><span id="currentRoot"></span><span>&nbsp;(<input style="width:3em" id="currentDetuning">)&lt;--- cents offset</span>
        <div style="display:flex; flex-direction:row">
            <div>
                <label for="intervals">Intervals:&nbsp;</label>
            </div>
            <div style="display: flex; flex-direction: column">
                <div>
                    <input id="currentIntervals" type="text" style="width:300px">
                    <!-- <button id="currentIntervalsButton">Set Intervals</button> -->
                </div>
                <div style="display: flex; gap: 1px; margin-top:2px;">
                    <button id="12tet">Major</button>
                    <button id="minor">Minor</button>
                    <button id="ji">Just Intonation Major</button>
                    <button id="pythagorean">Pythagorean Major</button>
                    <button id="pentatonic">Pentatonic</button>
                </div>
            </div>
        </div>
        <label>Mode:&nbsp;</label><span id="currentMode"></span>
        <br><label>Scale:&nbsp;</label><span id="currentScale"></span>
        <br><label>Recently played notes: </label><span id="currentNote"></span>
        <br><div id="controls" style="width:400px; float:left">
            <label> Volume: </label><input id="volume" type="range" max="100" min="0"/>
            <label> Timbre: </label>
            <select id="waveTableDropdown"></select>
            <div id="harmonicAmplitudes">
                <label>Amplitudes of Harmonic Series</label>
                <div class="slider-wrapper">
                    <label>1</label>
                    <input type="range" min="0" max="100" value="80" step="1">
                </div>
                <div class="slider-wrapper">
                    <label>2</label>
                    <input type="range" min="0" max="100" value="65" step="1">
                </div>
                <div class="slider-wrapper">
                    <label>3</label>
                    <input type="range" min="0" max="100" value="50" step="1">
                </div>
                <div class="slider-wrapper">
                    <label>4</label>
                    <input type="range" min="0" max="100" value="35" step="1">
                </div>
                <div class="slider-wrapper">
                    <label>5</label>
                    <input type="range" min="0" max="100" value="20" step="1">
                </div>
                <div class="slider-wrapper">
                    <label>6</label>
                    <input type="range" min="0" max="100" value="15" step="1">
                </div>
                <div class="slider-wrapper">
                    <label>7</label>
                    <input type="range" min="0" max="100" value="10" step="1">
                </div>
                <div class="slider-wrapper">
                    <label>8</label>
                    <input type="range" min="0" max="100" value="5" step="1">
                </div>
            </div>
            <div> &nbsp; </div><br>
        </div>
        <div id="displays" style="width:500px; float:left"></div>
    </body>
</html>